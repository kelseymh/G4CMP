/***********************************************************************\
 * This software is licensed under the terms of the GNU General Public *
 * License version 3 or later. See G4CMP/LICENSE for the full license. *
\***********************************************************************/
//
/// \file library/include/G4CMPParticleChangeForQPDiffusion.icc
/// \brief Implementation inline methods defined in of the G4CMPParticleChangeForQPDiffusion.hh
//
inline
 void G4CMPParticleChangeForQPDiffusion::ProposeMomentumDirection(const G4ThreeVector& P)
{
  theMomentumDirection = P;
}

inline
 void G4CMPParticleChangeForQPDiffusion::SetProposedMomentumDirection(const G4ThreeVector& P)
{
  theMomentumDirection = P;
}

inline
 void G4CMPParticleChangeForQPDiffusion::ProposeMomentumDirection(G4double Px, G4double Py, G4double Pz)
{
  theMomentumDirection.setX(Px);
  theMomentumDirection.setY(Py);
  theMomentumDirection.setZ(Pz);
}

inline
 const G4ThreeVector* G4CMPParticleChangeForQPDiffusion::GetMomentumDirection() const
{
  return &theMomentumDirection;
}

inline
 const G4ThreeVector* G4CMPParticleChangeForQPDiffusion::GetProposedMomentumDirection() const
{
  return &theMomentumDirection;
}

inline
 void G4CMPParticleChangeForQPDiffusion::SetProposedPosition(const G4ThreeVector& P)
{
  thePosition = P;
}

inline
 const G4ThreeVector* G4CMPParticleChangeForQPDiffusion::GetPosition() const
{
  return &thePosition;
}

inline
 const G4ThreeVector* G4CMPParticleChangeForQPDiffusion::GetProposedPosition() const
{
  return &thePosition;
}

inline
 void G4CMPParticleChangeForQPDiffusion::ProposePosition(const G4ThreeVector& P)
{
  thePosition = P;
}

inline
 void G4CMPParticleChangeForQPDiffusion::ProposeVelocity(const G4double& P)
{
  theVelocity = P;
}

inline
 const G4double* G4CMPParticleChangeForQPDiffusion::GetVelocity() const
{
  return &theVelocity;
}

inline
 const G4double* G4CMPParticleChangeForQPDiffusion::GetProposedVelocity() const
{
  return &theVelocity;
}

inline
 void G4CMPParticleChangeForQPDiffusion::SetProposedVelocity(const G4double& P)
{
  theVelocity = P;
}

inline 
  void G4CMPParticleChangeForQPDiffusion::ProposeGlobalTime(G4double t)
{
  theTimeChange = (t-theGlobalTime0) + theLocalTime0;
}
   
inline
 G4double  G4CMPParticleChangeForQPDiffusion::GetGlobalTime(G4double timeDelay) const
{
  //  Convert the time delay to the global time.
  return theGlobalTime0 + (theTimeChange-theLocalTime0) + timeDelay;
}

inline 
  void G4CMPParticleChangeForQPDiffusion::ProposeLocalTime(G4double t)
{
  theTimeChange = t;
}

inline void G4CMPParticleChangeForQPDiffusion::Initialize(const G4Track& track)
{
  theStatusChange = track.GetTrackStatus();
  theMomentumDirection = track.GetMomentumDirection();
  theVelocity = track.GetVelocity();
  theTimeChange = track.GetLocalTime();
  theLocalTime0 = track.GetLocalTime();
  theGlobalTime0 = track.GetGlobalTime();

}

